<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<style rel="stylesheet" type="text/css">
	h1+p{
		cursor:pointer;
	}
	
</style>

<script type="text/javascript">
	var xhr;
	var result;
	var cnt=0;
	function io(){
		xhr=new XMLHttpRequest(); // 통신용 객체
		xhr.onreadystatechange=function(){
			console.log(++cnt);
			
			if(xhr.status==200){ // 통신성공시 200 / 실패 404
				var msg=xhr.responseText;
				result.innerHTML=msg;
			}else if(xhr.status==404){
				//alert('에러');
			}
			
		};
		xhr.open('get','ex01.jsp'); // 통신정보		
		xhr.send(); // 통신실행
		
	}
	


	window.onload=function(){
		result=document.querySelector("h1+p");
		io();
	};
	
</script>
</head>
<body>
	<h1>자바스크립트 통신</h1>
	<p>result</p>
	<p><a href="ex01.jsp">link</a></p>
	<p>자바스크립트의 기본 통신방식은 비동기 통신입니다</p>	
	
</body>

</html>